<Window x:Class="PVETool.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="PVE 批量控制工具" Height="750" Width="950" 
        Background="#F4F4F9" FontFamily="Microsoft YaHei">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Background="#3F51B5" Padding="15,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <StackPanel Margin="10,0">
                    <TextBlock Text="主机 IP" Foreground="#C5CAE9" FontSize="10"/>
                    <TextBox x:Name="HostIp" Text="192.168.159.128" Width="120" Padding="5" Background="#5C6BC0" Foreground="White" BorderThickness="0"/>
                </StackPanel>

                <StackPanel Margin="10,0">
                    <TextBlock Text="用户名" Foreground="#C5CAE9" FontSize="10"/>
                    <TextBox x:Name="UserName" Text="root" Width="80" Padding="5" Background="#5C6BC0" Foreground="White" BorderThickness="0"/>
                </StackPanel>

                <StackPanel Margin="10,0">
                    <TextBlock Text="ROOT 密码" Foreground="#C5CAE9" FontSize="10"/>
                    <PasswordBox x:Name="UserPass" Width="120" Padding="5" Background="#5C6BC0" Foreground="White" BorderThickness="0"/>
                </StackPanel>

                <Button x:Name="ConnectBtn" Content="连接 PVE" Margin="20,10,0,0" Padding="20,0" 
                        Background="#FF9800" Foreground="White" FontWeight="Bold" BorderThickness="0">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="4"/>
                        </Style>
                    </Button.Resources>
                </Button>
                
            </StackPanel>
            
        </Border>

        <Grid Grid.Row="1" Margin="10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="260"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <StackPanel Grid.Column="0">
                <Border Background="White" CornerRadius="5" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="系统部署" FontWeight="Bold" Foreground="#3F51B5" Margin="0,0,0,10"/>
                        <UniformGrid Columns="2">
                            <Button x:Name="InitBtn" Content="初始化" Margin="2" Height="30" Click="InitBtn_Click_1" Background="#FFE8EAF6"/>
                            <Button Content="安装驱动" x:Name="InstallDriverBtn"  Margin="2" Height="30" Background="#FFE8EAF6"/>
                        </UniformGrid>
                        <Button x:Name="InstallPatchBtn" Content="安装显卡补丁" Margin="2,5,2,0" Height="30" Background="#FFE8EAF6"/>
                        <Button x:Name="cjmuji" Content="创建母机" Margin="0,2" Height="30" Background="#FFE8EAF6"/>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="5" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <TextBlock FontWeight="Bold" Foreground="#3F51B5" Margin="0,0,0,10"><Run Text="批量修改硬件配置"/><Run Language="zh-cn" Text="/创建母机配置也是这个"/></TextBlock>
                        <UniformGrid Columns="2">
                            <StackPanel Margin="2">
                                <TextBlock Text="CPU/核" FontSize="10" Foreground="Gray"/>
                                <TextBox x:Name="CpuInput" Text="4" Padding="3"/>
                            </StackPanel>
                            <StackPanel Margin="2">
                                <TextBlock Text="硬盘/GB" FontSize="10" Foreground="Gray"/>
                                <TextBox x:Name="DiskInput" Text="64/200" Padding="3"/>
                            </StackPanel>
                            <StackPanel Margin="2">
                                <TextBlock Text="内存/GB" FontSize="10" Foreground="Gray"/>
                                <TextBox x:Name="RamInput" Text="8" Padding="3"/>
                            </StackPanel>
                            <StackPanel Margin="2">
                                <TextBlock Text="显存/GB" FontSize="10" Foreground="Gray"/>
                                <TextBox x:Name="VramInput" Text="0.8" Padding="3"/>
                            </StackPanel>
                        </UniformGrid>
                        <Button x:Name="updatehw" Content="修改所有硬件配置" Margin="0,10,0,0" Height="35" Background="#3F51B5" Foreground="White"/>
                    </StackPanel>
                </Border>

                <Border Background="White" CornerRadius="5" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="母机操作" FontWeight="Bold" Foreground="#673AB7" Margin="0,0,0,10"/>
                        <Button x:Name="cjtemplate" Content="从母机创建模板" Margin="0,2" Height="30" Click="cjtemplate_Click_1" Background="#FFE8EAF6"/>
                        <Button x:Name="startmuji" Content="启动母机" Margin="0,2" Height="30" Background="#F3E5F5"/>
                        <Button x:Name="delall" Content="删除全部 (含母机)" Margin="0,5,0,0" Height="30" Background="#FFEBEE" Foreground="#C62828"/>
                    </StackPanel>
                </Border>
                <Border Background="White" CornerRadius="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <UniformGrid Columns="3">
                        <Button x:Name="clear_cache" Content="清理缓存" Margin="1" Height="30" FontSize="10" Background="#FFE8EAF6"/>
                        <Button x:Name="fangbao" Content="防爆盘" Margin="1" Height="30" FontSize="10" Background="#FFE8EAF6"/>
                        <Button x:Name="tbvm" Content="同步D盘数据" Margin="1" Height="30" FontSize="10" Background="#FFE8EAF6"/>
                    </UniformGrid>
                </Border>
            </StackPanel>

            <Grid Grid.Column="1">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Border Background="White" CornerRadius="5" Margin="5" Padding="15" BorderBrush="#4CAF50" BorderThickness="1.5">
                    <StackPanel>
                        <TextBlock Text="批量克隆控制台" FontWeight="Bold" Foreground="#4CAF50" Margin="0,0,0,10"/>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <StackPanel Grid.Column="0" Margin="2">
                                <TextBlock Text="起始 ID" FontSize="10" HorizontalAlignment="Center"/>
                                <TextBox x:Name="StartId" Text="101" TextAlignment="Center" Padding="5"/>
                            </StackPanel>
                            <StackPanel Grid.Column="1" Margin="2">
                                <TextBlock Text="结束 ID" FontSize="10" HorizontalAlignment="Center"/>
                                <TextBox x:Name="EndId" Text="110" TextAlignment="Center" Padding="5"/>
                            </StackPanel>
                            <StackPanel Grid.Column="2" Margin="2">
                                <TextBlock Text="名称前缀" FontSize="10" HorizontalAlignment="Center"/>
                                <TextBox x:Name="VmName" Text="csgo" TextAlignment="Center" Padding="5"/>
                            </StackPanel>
                            <StackPanel Grid.Column="3" Margin="2">
                                <TextBlock Text="克隆序号" FontSize="10" HorizontalAlignment="Center"/>
                                <TextBox x:Name="CurrentIndex" Text="1" IsReadOnly="True" TextAlignment="Center" Padding="5"/>
                            </StackPanel>
                        </Grid>
                        <Button x:Name="StartBatchBtn" Content="▶ 开始批量执行" Height="55" Margin="0,15,0,0" Background="#4CAF50" Foreground="White" FontSize="18" FontWeight="Bold"/>
                    </StackPanel>
                </Border>
                <Border Grid.Row="1" Background="#1E1E1E" CornerRadius="5" Margin="5" Padding="10">
                    <TextBox x:Name="LogBox" Background="Transparent" Foreground="#D4D4D4" BorderThickness="0" TextWrapping="Wrap" IsReadOnly="True" FontFamily="Consolas" VerticalScrollBarVisibility="Auto"/>
                </Border>
            </Grid>

            <StackPanel Grid.Column="2">
                <Border Background="White" CornerRadius="5" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="批量管理" FontWeight="Bold" Foreground="#FF5722" Margin="0,0,0,10"/>
                        <TextBlock Text="指定 ID (逗号隔开)" FontSize="10" Foreground="Gray"/>
                        <TextBox x:Name="TargetIds" Text="999,111" Margin="0,2,0,5" Padding="3"/>
                        <UniformGrid Columns="2">
                            <Button x:Name="BtnBatchStart" Content="批量开机" Margin="2" Height="30" Background="#E8F5E9"/>
                            <Button x:Name="BtnBatchStop" Content="批量停止" Margin="2" Height="30" Background="#FFEBEE"/>
                            <Button x:Name="BtnBatchReboot" Content="批量重启" Margin="2" Height="30" Background="#FFF3E0"/>
                            <Button x:Name="BtnBatchDelete" Content="删除指定" Margin="2" Height="30"/>
                        </UniformGrid>
                    </StackPanel>
                </Border>
                <Border Background="White" CornerRadius="5" Margin="5" Padding="10" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="多开参数推荐" FontWeight="Bold" Foreground="#3F51B5" Margin="0,0,0,10"/>

                        <StackPanel Margin="0,5">
                            <TextBlock Text="选择游戏预设" FontSize="10" Foreground="Gray" Margin="0,0,0,3"/>
                            <ComboBox x:Name="GamePresetCombo" SelectedIndex="0" Padding="5"
                                SelectionChanged="GamePresetCombo_SelectionChanged">
                                <ComboBoxItem Content="--- 请选择游戏 ---"/>
                                <ComboBoxItem  Content="CSGO / CS2"/>
                                <ComboBoxItem  Content="SCUM"/>
                            </ComboBox>
                        </StackPanel>

                        <StackPanel Margin="0,5">
                            <TextBlock Text="所需系统镜像" FontSize="10" Foreground="Gray" Margin="0,0,0,3"/>
                            <ComboBox x:Name="ImageSelectCombo" SelectedIndex="0" Padding="5">
                                <ComboBoxItem Content="---请选择所需系统镜像---"/>
                                <ComboBoxItem  Content="上传"/>
                                <ComboBoxItem  Content="请输入下载链接"/>
                            </ComboBox>
                        </StackPanel>

                        <Button x:Name="BtnApplyPreset" Content="应用镜像到母机" Margin="0,8,0,0" Height="30" Background="#E8EAF6" Foreground="#3F51B5" BorderBrush="#3F51B5"/>
                    </StackPanel>
                </Border>
                <Border Background="White" CornerRadius="8" Margin="5,10,5,5" Padding="12" BorderBrush="#DDD" BorderThickness="1">
                    <StackPanel>
                        <DockPanel Margin="0,0,0,10">
                            <TextBlock Text="系统实时指标" FontWeight="Bold" Foreground="#3F51B5"/>
                            <TextBlock x:Name="UptimeText" Text="在线: -d -h" FontSize="10" Foreground="Gray" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                        </DockPanel>

                        <Grid Margin="0,0,0,10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="40"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Row="0" Text="CPU" VerticalAlignment="Center" FontSize="11"/>
                            <ProgressBar Grid.Row="0" Grid.Column="1" x:Name="CpuProgress" Value="35" Height="6" Margin="8,0" Foreground="#F44336" Background="#FFEBEE"/>
                            <TextBlock Grid.Row="0" Grid.Column="2" x:Name="CpuPercentText" Text="-%" FontSize="10" VerticalAlignment="Center" HorizontalAlignment="Right"/>

                            <TextBlock Grid.Row="1" Text="内存" VerticalAlignment="Center" FontSize="11" Margin="0,8,0,0"/>
                            <ProgressBar Grid.Row="1" Grid.Column="1" x:Name="MemProgress" Value="62" Height="6" Margin="8,8,8,0" Foreground="#2196F3" Background="#E3F2FD"/>
                            <TextBlock Grid.Row="1" Grid.Column="2" x:Name="MemPercentText" Text="-%" FontSize="10" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,8,0,0"/>

                            <TextBlock Grid.Row="2" Text="磁盘" VerticalAlignment="Center" FontSize="11" Margin="0,8,0,0"/>
                            <ProgressBar Grid.Row="2" Grid.Column="1" x:Name="DiskProgress" Value="85" Height="6" Margin="8,8,8,0" Foreground="#FF9800" Background="#FFF3E0"/>
                            <TextBlock Grid.Row="2" Grid.Column="2" x:Name="DiskPercentText" Text="-%" FontSize="10" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,8,0,0" Foreground="Red" FontWeight="Bold"/>
                        </Grid>

                        <Separator Background="#F5F5F5" Margin="0,5"/>

                        <UniformGrid Columns="2" Margin="0,5">
                            <StackPanel Margin="2">
                                <TextBlock Text="核心温度" FontSize="10" Foreground="Gray"/>
                                <TextBlock x:Name="TempText" Text="- °C" FontWeight="Bold" Foreground="#E91E63"/>
                            </StackPanel>
                            <StackPanel Margin="2">
                                <TextBlock Text="显存占用" FontSize="10" Foreground="Gray"/>
                                <TextBlock x:Name="GpuMemText" Text="- / - G" FontWeight="Bold" Foreground="#9C27B0"/>
                            </StackPanel>
                        </UniformGrid>

                        <Border Background="#F8F9FA" CornerRadius="4" Padding="8" Margin="0,5">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="↑ 上行" FontSize="9" Foreground="Gray"/>
                                    <TextBlock x:Name="NetUpText" Text="-" FontSize="11" FontWeight="Medium"/>
                                </StackPanel>
                                <StackPanel Grid.Column="1" HorizontalAlignment="Right">
                                    <TextBlock Text="↓ 下行" FontSize="9" Foreground="Gray" HorizontalAlignment="Right"/>
                                    <TextBlock x:Name="NetDownText" Text="-" FontSize="11" FontWeight="Medium" HorizontalAlignment="Right"/>
                                </StackPanel>
                            </Grid>
                        </Border>
                    </StackPanel>
                </Border>
            </StackPanel>
        </Grid>
    </Grid>
</Window>